<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Gregory Ehlinger -</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Gregory Ehlinger</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resume.html" rel="" target="">
 <span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#section" id="toc-section" class="nav-link active" data-scroll-target="#section"></a></li>
  <li><a href="#ml-aproach" id="toc-ml-aproach" class="nav-link" data-scroll-target="#ml-aproach">ML Aproach</a>
  <ul class="collapse">
  <li><a href="#import-libraries" id="toc-import-libraries" class="nav-link" data-scroll-target="#import-libraries">Import Libraries</a></li>
  </ul></li>
  <li><a href="#load-data-set" id="toc-load-data-set" class="nav-link" data-scroll-target="#load-data-set"><font color="lightblue"> LOAD DATA SET </font></a></li>
  <li><a href="#load-data-and-create-dataframe" id="toc-load-data-and-create-dataframe" class="nav-link" data-scroll-target="#load-data-and-create-dataframe">1. Load data and create DataFrame</a>
  <ul class="collapse">
  <li><a href="#create-from-csv" id="toc-create-from-csv" class="nav-link" data-scroll-target="#create-from-csv">1.1 Create from csv</a></li>
  </ul></li>
  <li><a href="#read" id="toc-read" class="nav-link" data-scroll-target="#read">2. Read</a>
  <ul class="collapse">
  <li><a href="#show-top-2-and-bottom-5-rows" id="toc-show-top-2-and-bottom-5-rows" class="nav-link" data-scroll-target="#show-top-2-and-bottom-5-rows">2.1 Show top 2 and Bottom 5 rows</a></li>
  <li><a href="#filter-columns" id="toc-filter-columns" class="nav-link" data-scroll-target="#filter-columns">3. Filter columns</a>
  <ul class="collapse">
  <li><a href="#description-of-selected-data-fields" id="toc-description-of-selected-data-fields" class="nav-link" data-scroll-target="#description-of-selected-data-fields">Description of selected data fields</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#clean-and-preprocess-the-dataset" id="toc-clean-and-preprocess-the-dataset" class="nav-link" data-scroll-target="#clean-and-preprocess-the-dataset"><font color="lightblue"> Clean and Preprocess the Dataset </font></a>
  <ul class="collapse">
  <li><a href="#clean-the-data" id="toc-clean-the-data" class="nav-link" data-scroll-target="#clean-the-data">1. Clean the data</a></li>
  <li><a href="#performing-the-exploratory-data-analysis-eda" id="toc-performing-the-exploratory-data-analysis-eda" class="nav-link" data-scroll-target="#performing-the-exploratory-data-analysis-eda">2. Performing the Exploratory Data Analysis (EDA)</a></li>
  </ul></li>
  <li><a href="#histograms" id="toc-histograms" class="nav-link" data-scroll-target="#histograms">Histograms</a>
  <ul class="collapse">
  <li><a href="#density-plot" id="toc-density-plot" class="nav-link" data-scroll-target="#density-plot">Density plot</a></li>
  </ul></li>
  <li><a href="#boxplot" id="toc-boxplot" class="nav-link" data-scroll-target="#boxplot">Boxplot</a></li>
  <li><a href="#create-dummy-variables" id="toc-create-dummy-variables" class="nav-link" data-scroll-target="#create-dummy-variables"><font color="lightblue"> Create Dummy Variables</font></a>
  <ul class="collapse">
  <li><a href="#linear-regresion" id="toc-linear-regresion" class="nav-link" data-scroll-target="#linear-regresion">LINEAR REGRESION</a>
  <ul class="collapse">
  <li><a href="#step-1-separate-the-dataset-into-input-output-numpy-arrays" id="toc-step-1-separate-the-dataset-into-input-output-numpy-arrays" class="nav-link" data-scroll-target="#step-1-separate-the-dataset-into-input-output-numpy-arrays">STEP 1: Separate the Dataset into Input &amp; Output NumPy Arrays</a></li>
  <li><a href="#step-2-split-into-inputoutput-array-into-trainingtesting-datasets" id="toc-step-2-split-into-inputoutput-array-into-trainingtesting-datasets" class="nav-link" data-scroll-target="#step-2-split-into-inputoutput-array-into-trainingtesting-datasets">STEP 2: Split into Input/Output Array into Training/Testing Datasets</a></li>
  </ul></li>
  <li><a href="#train-model" id="toc-train-model" class="nav-link" data-scroll-target="#train-model"><font color="lightblue"> TRAIN MODEL </font></a>
  <ul class="collapse">
  <li><a href="#step-3-build-and-train-the-model" id="toc-step-3-build-and-train-the-model" class="nav-link" data-scroll-target="#step-3-build-and-train-the-model">STEP 3: Build and Train the Model</a></li>
  </ul></li>
  <li><a href="#score-model" id="toc-score-model" class="nav-link" data-scroll-target="#score-model"><font color="lightblue"> SCORE MODEL </font></a></li>
  <li><a href="#step-4-calculate-r-squared" id="toc-step-4-calculate-r-squared" class="nav-link" data-scroll-target="#step-4-calculate-r-squared">STEP 4: Calculate R-Squared</a>
  <ul class="collapse">
  <li><a href="#step-5-prediction" id="toc-step-5-prediction" class="nav-link" data-scroll-target="#step-5-prediction">Step 5: Prediction</a></li>
  <li><a href="#case-2-prediction" id="toc-case-2-prediction" class="nav-link" data-scroll-target="#case-2-prediction">Case 2 prediction:</a></li>
  <li><a href="#case-3-prediction" id="toc-case-3-prediction" class="nav-link" data-scroll-target="#case-3-prediction">Case 3 prediction:</a></li>
  <li><a href="#case-4-prediction" id="toc-case-4-prediction" class="nav-link" data-scroll-target="#case-4-prediction">Case 4 prediction:</a></li>
  <li><a href="#case-5-prediction" id="toc-case-5-prediction" class="nav-link" data-scroll-target="#case-5-prediction">Case 5 prediction:</a></li>
  </ul></li>
  <li><a href="#evaluate-models" id="toc-evaluate-models" class="nav-link" data-scroll-target="#evaluate-models"><font color="lightblue"> EVALUATE MODELS </font></a>
  <ul class="collapse">
  <li><a href="#step-6-train-score-model-2-using-k-fold-cross-validation-data-split" id="toc-step-6-train-score-model-2-using-k-fold-cross-validation-data-split" class="nav-link" data-scroll-target="#step-6-train-score-model-2-using-k-fold-cross-validation-data-split">Step 6: Train &amp; Score Model 2 Using K-Fold Cross Validation Data Split</a></li>
  <li><a href="#step-7-score-using-explained-variance" id="toc-step-7-score-using-explained-variance" class="nav-link" data-scroll-target="#step-7-score-using-explained-variance">Step 7: Score Using Explained Variance</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#deleteoutput" id="toc-deleteoutput" class="nav-link" data-scroll-target="#deleteoutput">4. Delete/Output</a>
  <ul class="collapse">
  <li><a href="#output-to-csv" id="toc-output-to-csv" class="nav-link" data-scroll-target="#output-to-csv">4.1 Output to csv</a></li>
  <li><a href="#output-to-jason" id="toc-output-to-jason" class="nav-link" data-scroll-target="#output-to-jason">4.2 Output to Jason</a></li>
  <li><a href="#output-to-html" id="toc-output-to-html" class="nav-link" data-scroll-target="#output-to-html">4.3 Output to HTML</a></li>
  <li><a href="#delete-dataframe" id="toc-delete-dataframe" class="nav-link" data-scroll-target="#delete-dataframe">4.4 Delete Dataframe</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><center><br>
<font color="lightblue"> 5240 Group 1 - March the 26th, 2023<br>
</font></center><font color="lightblue"><br>
</font></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
##
<center>
<font color="black">Linear Regression: TX Income based on demographics</font>
</center>
</section>
<section id="ml-aproach" class="level2">
<h2 class="anchored" data-anchor-id="ml-aproach">ML Aproach</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="adta5240_linear_regression_files/figure-html/3b3d139f-1-aproach.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">aproach.PNG</figcaption>
</figure>
</div>
<section id="import-libraries" class="level3">
<h3 class="anchored" data-anchor-id="import-libraries">Import Libraries</h3>
<ul>
<li>import pandas and numpy libraries</li>
<li>import scatter_matrix from pandas.plotting</li>
<li>import LinearRegression from sklearn.linear_model</li>
<li>import train_test_split, KFold, and cross_val_score from sklearn.model_selection</li>
<li>import matplotlib</li>
<li>import seaborn</li>
</ul>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pandas.plotting <span class="im">import</span> scatter_matrix</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> KFold</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> cross_val_score</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib <span class="im">as</span> mp</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pandas.plotting <span class="im">import</span> scatter_matrix</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="load-data-set" class="level2">
<h2 class="anchored" data-anchor-id="load-data-set"><font color="lightblue"> LOAD DATA SET </font></h2>
</section>
<section id="load-data-and-create-dataframe" class="level1">
<h1>1. Load data and create DataFrame</h1>
<section id="create-from-csv" class="level3">
<h3 class="anchored" data-anchor-id="create-from-csv">1.1 Create from csv</h3>
<div class="cell" data-scrolled="true" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span>pd.read_csv(<span class="st">'C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">palom</span><span class="ch">\\</span><span class="st">5240</span><span class="ch">\\</span><span class="st">psam_p48.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="read" class="level1">
<h1>2. Read</h1>
<section id="show-top-2-and-bottom-5-rows" class="level2">
<h2 class="anchored" data-anchor-id="show-top-2-and-bottom-5-rows">2.1 Show top 2 and Bottom 5 rows</h2>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">SERIALNO</th>
<th data-quarto-table-cell-role="th">DIVISION</th>
<th data-quarto-table-cell-role="th">SPORDER</th>
<th data-quarto-table-cell-role="th">PUMA</th>
<th data-quarto-table-cell-role="th">REGION</th>
<th data-quarto-table-cell-role="th">ST</th>
<th data-quarto-table-cell-role="th">ADJINC</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">PWGTP71</th>
<th data-quarto-table-cell-role="th">PWGTP72</th>
<th data-quarto-table-cell-role="th">PWGTP73</th>
<th data-quarto-table-cell-role="th">PWGTP74</th>
<th data-quarto-table-cell-role="th">PWGTP75</th>
<th data-quarto-table-cell-role="th">PWGTP76</th>
<th data-quarto-table-cell-role="th">PWGTP77</th>
<th data-quarto-table-cell-role="th">PWGTP78</th>
<th data-quarto-table-cell-role="th">PWGTP79</th>
<th data-quarto-table-cell-role="th">PWGTP80</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>P</td>
<td>2021GQ0000009</td>
<td>7</td>
<td>1</td>
<td>4615</td>
<td>3</td>
<td>48</td>
<td>1029928</td>
<td>31</td>
<td>21</td>
<td>...</td>
<td>33</td>
<td>0</td>
<td>30</td>
<td>0</td>
<td>30</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>29</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>P</td>
<td>2021GQ0000014</td>
<td>7</td>
<td>1</td>
<td>2508</td>
<td>3</td>
<td>48</td>
<td>1029928</td>
<td>25</td>
<td>19</td>
<td>...</td>
<td>51</td>
<td>0</td>
<td>25</td>
<td>24</td>
<td>25</td>
<td>49</td>
<td>0</td>
<td>25</td>
<td>24</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>2 rows × 287 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df.tail(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">SERIALNO</th>
<th data-quarto-table-cell-role="th">DIVISION</th>
<th data-quarto-table-cell-role="th">SPORDER</th>
<th data-quarto-table-cell-role="th">PUMA</th>
<th data-quarto-table-cell-role="th">REGION</th>
<th data-quarto-table-cell-role="th">ST</th>
<th data-quarto-table-cell-role="th">ADJINC</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">PWGTP71</th>
<th data-quarto-table-cell-role="th">PWGTP72</th>
<th data-quarto-table-cell-role="th">PWGTP73</th>
<th data-quarto-table-cell-role="th">PWGTP74</th>
<th data-quarto-table-cell-role="th">PWGTP75</th>
<th data-quarto-table-cell-role="th">PWGTP76</th>
<th data-quarto-table-cell-role="th">PWGTP77</th>
<th data-quarto-table-cell-role="th">PWGTP78</th>
<th data-quarto-table-cell-role="th">PWGTP79</th>
<th data-quarto-table-cell-role="th">PWGTP80</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">261441</td>
<td>P</td>
<td>2021HU1415640</td>
<td>7</td>
<td>1</td>
<td>2322</td>
<td>3</td>
<td>48</td>
<td>1029928</td>
<td>46</td>
<td>61</td>
<td>...</td>
<td>14</td>
<td>45</td>
<td>41</td>
<td>81</td>
<td>14</td>
<td>50</td>
<td>45</td>
<td>15</td>
<td>45</td>
<td>71</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261442</td>
<td>P</td>
<td>2021HU1415640</td>
<td>7</td>
<td>2</td>
<td>2322</td>
<td>3</td>
<td>48</td>
<td>1029928</td>
<td>78</td>
<td>61</td>
<td>...</td>
<td>26</td>
<td>80</td>
<td>65</td>
<td>138</td>
<td>23</td>
<td>77</td>
<td>81</td>
<td>26</td>
<td>83</td>
<td>130</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261443</td>
<td>P</td>
<td>2021HU1415668</td>
<td>7</td>
<td>1</td>
<td>4629</td>
<td>3</td>
<td>48</td>
<td>1029928</td>
<td>248</td>
<td>44</td>
<td>...</td>
<td>245</td>
<td>242</td>
<td>249</td>
<td>429</td>
<td>76</td>
<td>406</td>
<td>225</td>
<td>71</td>
<td>73</td>
<td>429</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261444</td>
<td>P</td>
<td>2021HU1415668</td>
<td>7</td>
<td>2</td>
<td>4629</td>
<td>3</td>
<td>48</td>
<td>1029928</td>
<td>288</td>
<td>53</td>
<td>...</td>
<td>278</td>
<td>271</td>
<td>269</td>
<td>482</td>
<td>93</td>
<td>526</td>
<td>283</td>
<td>81</td>
<td>87</td>
<td>506</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261445</td>
<td>P</td>
<td>2021HU1415668</td>
<td>7</td>
<td>3</td>
<td>4629</td>
<td>3</td>
<td>48</td>
<td>1029928</td>
<td>303</td>
<td>15</td>
<td>...</td>
<td>293</td>
<td>302</td>
<td>274</td>
<td>543</td>
<td>89</td>
<td>505</td>
<td>288</td>
<td>85</td>
<td>93</td>
<td>500</td>
</tr>
</tbody>
</table>

<p>5 rows × 287 columns</p>
</div>
</div>
</div>
</section>
<section id="filter-columns" class="level2">
<h2 class="anchored" data-anchor-id="filter-columns">3. Filter columns</h2>
<div class="cell" data-scrolled="true" data-execution_count="224">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="224">
<pre><code>Index(['RT', 'SERIALNO', 'DIVISION', 'SPORDER', 'PUMA', 'REGION', 'ST',
       'ADJINC', 'PWGTP', 'AGEP',
       ...
       'PWGTP71', 'PWGTP72', 'PWGTP73', 'PWGTP74', 'PWGTP75', 'PWGTP76',
       'PWGTP77', 'PWGTP78', 'PWGTP79', 'PWGTP80'],
      dtype='object', length=287)</code></pre>
</div>
</div>
<section id="description-of-selected-data-fields" class="level3">
<h3 class="anchored" data-anchor-id="description-of-selected-data-fields">Description of selected data fields</h3>
<ul>
<li>ST: State Code based on 2010 Census definitions</li>
<li>AGEP: Age</li>
<li>COW: Class of worker</li>
<li>ENG: Ability to speak English</li>
<li>SCHL: Educational attainment</li>
<li>SEX: Sex</li>
<li>WAGP: Wages or salary income past 12 months (use ADJINC to adjust WAGP to constant dollars)</li>
<li>WKHP: Usual hours worked per week past 12 months</li>
<li>JWAP: Time of arrival at work - hour and minute</li>
<li>JWDP: Time of departure for work - hour and minute</li>
<li>MIGSP: Migration recode - State or foreign country code</li>
<li>NAICSP: North American Industry Classification System (NAICS) recode for 2018 and later based on 2017 NAICS codes</li>
<li>NOP: Nativity of parent</li>
<li>OCCP: Occupation recode for 2018 and later based on 2018 OCC codes</li>
<li>PERNP: Total person’s earnings (use ADJINC to adjust to constant dollars)</li>
<li>PINCP: Total person’s income (signed, use ADJINC to adjust to constant dollars)</li>
<li>POBP: Place of birth (Recode)</li>
<li>SCIENGP: Field of Degree Science and Engineering Flag - NSF Definition</li>
<li>SCIENGRLP: Field of Degree Science and Engineering Related Flag - NSF Definition</li>
<li>SOCP: Standard Occupational Classification (SOC) codes for 2018 and later based on 2018 SOC codes</li>
<li>WAOB: World area of birth</li>
<li>FAGEP: Age allocation flag</li>
<li>FSEMP: Self employment Flag</li>
<li>PWGTP: Person’s weight</li>
<li>RACASN: Asian recode (Asian alone or in combination with one or more other races)</li>
<li>RACBLK: Black or African American recode (Black alone or in combination with one or more other races)</li>
<li>RACWHT: White recode (White alone or in combination with one or more other races)</li>
</ul>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> df[{<span class="st">'MIGSP'</span>,<span class="st">'NAICSP'</span>,<span class="st">'NOP'</span>,<span class="st">'PERNP'</span>,<span class="st">'PINCP'</span>,<span class="st">'SCIENGP'</span>,<span class="st">'SCIENGRLP'</span>,<span class="st">'SOCP'</span>,<span class="st">'WAOB'</span>,<span class="st">'AGEP'</span>,<span class="st">'SEX'</span>,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">'POBP'</span>,<span class="st">'COW'</span>,<span class="st">'RT'</span>,<span class="st">'ENG'</span>,<span class="st">'SCHL'</span>,<span class="st">'WAGP'</span>,<span class="st">'WKHP'</span>,<span class="st">'JWAP'</span>,<span class="st">'JWDP'</span>,<span class="st">'OCCP'</span>,<span class="st">'POBP'</span>,<span class="st">'ST'</span>,<span class="st">'NATIVITY'</span>,<span class="st">'FSEMP'</span>,<span class="st">'PWGTP'</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">'RACASN'</span>,<span class="st">'RACBLK'</span>,<span class="st">'RACWHT'</span>}]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_13200\3040542100.py:1: FutureWarning: Passing a set as an indexer is deprecated and will raise in a future version. Use a list instead.
  df2 = df[{'MIGSP','NAICSP','NOP','PERNP','PINCP','SCIENGP','SCIENGRLP','SOCP','WAOB','AGEP','SEX',</code></pre>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df2.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">ST</th>
<th data-quarto-table-cell-role="th">RACASN</th>
<th data-quarto-table-cell-role="th">PINCP</th>
<th data-quarto-table-cell-role="th">JWDP</th>
<th data-quarto-table-cell-role="th">PERNP</th>
<th data-quarto-table-cell-role="th">WAOB</th>
<th data-quarto-table-cell-role="th">SEX</th>
<th data-quarto-table-cell-role="th">NATIVITY</th>
<th data-quarto-table-cell-role="th">RACWHT</th>
<th data-quarto-table-cell-role="th">RACBLK</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">WAGP</th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">COW</th>
<th data-quarto-table-cell-role="th">POBP</th>
<th data-quarto-table-cell-role="th">JWAP</th>
<th data-quarto-table-cell-role="th">SOCP</th>
<th data-quarto-table-cell-role="th">NOP</th>
<th data-quarto-table-cell-role="th">OCCP</th>
<th data-quarto-table-cell-role="th">FSEMP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>48</td>
<td>0</td>
<td>7000.0</td>
<td>118.0</td>
<td>7000.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>...</td>
<td>7000.0</td>
<td>P</td>
<td>31</td>
<td>1.0</td>
<td>48</td>
<td>199.0</td>
<td>353031</td>
<td>NaN</td>
<td>4110.0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>48</td>
<td>0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>...</td>
<td>0.0</td>
<td>P</td>
<td>25</td>
<td>NaN</td>
<td>36</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>48</td>
<td>0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>...</td>
<td>0.0</td>
<td>P</td>
<td>19</td>
<td>1.0</td>
<td>48</td>
<td>NaN</td>
<td>472211</td>
<td>NaN</td>
<td>6520.0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>48</td>
<td>0</td>
<td>13500.0</td>
<td>NaN</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>...</td>
<td>0.0</td>
<td>P</td>
<td>12</td>
<td>NaN</td>
<td>48</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>48</td>
<td>0</td>
<td>10800.0</td>
<td>NaN</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>...</td>
<td>0.0</td>
<td>P</td>
<td>16</td>
<td>NaN</td>
<td>48</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>48</td>
<td>0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
<td>5</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>0</td>
<td>...</td>
<td>0.0</td>
<td>P</td>
<td>56</td>
<td>NaN</td>
<td>110</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>48</td>
<td>0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0.0</td>
<td>P</td>
<td>60</td>
<td>NaN</td>
<td>48</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>48</td>
<td>0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>...</td>
<td>0.0</td>
<td>P</td>
<td>25</td>
<td>NaN</td>
<td>6</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>48</td>
<td>0</td>
<td>0.0</td>
<td>NaN</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>...</td>
<td>0.0</td>
<td>P</td>
<td>8</td>
<td>NaN</td>
<td>48</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>48</td>
<td>0</td>
<td>13000.0</td>
<td>100.0</td>
<td>13000.0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>...</td>
<td>13000.0</td>
<td>P</td>
<td>16</td>
<td>1.0</td>
<td>48</td>
<td>162.0</td>
<td>537065</td>
<td>NaN</td>
<td>9645.0</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>10 rows × 28 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(261446, 287)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df2.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>ST             int64
RACASN         int64
PINCP        float64
JWDP         float64
PERNP        float64
WAOB           int64
SEX            int64
NATIVITY       int64
RACWHT         int64
RACBLK         int64
SCIENGP      float64
SCHL         float64
MIGSP        float64
NAICSP        object
AGEP           int64
SCIENGRLP    float64
ENG          float64
WKHP         float64
WAGP         float64
RT            object
PWGTP          int64
COW          float64
POBP           int64
JWAP         float64
SOCP          object
NOP          float64
OCCP         float64
FSEMP          int64
dtype: object</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="clean-and-preprocess-the-dataset" class="level1">
<h1><font color="lightblue"> Clean and Preprocess the Dataset </font></h1>
<section id="clean-the-data" class="level2">
<h2 class="anchored" data-anchor-id="clean-the-data">1. Clean the data</h2>
<ul>
<li>Find and Mark Missing Values</li>
</ul>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df2.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>ST                0
RACASN            0
PINCP         45410
JWDP         166266
PERNP         48880
WAOB              0
SEX               0
NATIVITY          0
RACWHT            0
RACBLK            0
SCIENGP      197341
SCHL           7952
MIGSP        226887
NAICSP       109139
AGEP              0
SCIENGRLP    197341
ENG          186811
WKHP         131782
WAGP          45410
RT                0
PWGTP             0
COW          109139
POBP              0
JWAP         166266
SOCP         109139
NOP          208561
OCCP         109139
FSEMP             0
dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="op">=</span> df2[df2[<span class="st">'COW'</span>].notna()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df4 <span class="op">=</span> df3[df3[<span class="st">'WKHP'</span>].notna()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df4[<span class="st">'SCIENGP'</span>] <span class="op">=</span> df4[<span class="st">'SCIENGP'</span>].fillna(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_13200\2680412488.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df4['SCIENGP'] = df4['SCIENGP'].fillna(0)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df4.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(129664, 28)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df4.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>ST                0
RACASN            0
PINCP             0
JWDP          34484
PERNP             0
WAOB              0
SEX               0
NATIVITY          0
RACWHT            0
RACBLK            0
SCIENGP           0
SCHL              0
MIGSP        110606
NAICSP            0
AGEP              0
SCIENGRLP     82852
ENG           88670
WKHP              0
WAGP              0
RT                0
PWGTP             0
COW               0
POBP              0
JWAP          34484
SOCP              0
NOP          127911
OCCP              0
FSEMP             0
dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df5 <span class="op">=</span> df4[{<span class="st">'NAICSP'</span>,<span class="st">'PERNP'</span>,<span class="st">'PINCP'</span>,<span class="st">'SOCP'</span>,<span class="st">'WAOB'</span>,<span class="st">'AGEP'</span>,<span class="st">'SEX'</span>,<span class="st">'SCIENGP'</span>,</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">'POBP'</span>,<span class="st">'COW'</span>,<span class="st">'RT'</span>,<span class="st">'SCHL'</span>,<span class="st">'WAGP'</span>,<span class="st">'WKHP'</span>,<span class="st">'OCCP'</span>,<span class="st">'POBP'</span>,<span class="st">'FSEMP'</span>,<span class="st">'RACASN'</span>,<span class="st">'RACBLK'</span>,<span class="st">'RACWHT'</span>,<span class="st">'PWGTP'</span>}]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_13200\3447267456.py:1: FutureWarning: Passing a set as an indexer is deprecated and will raise in a future version. Use a list instead.
  df5 = df4[{'NAICSP','PERNP','PINCP','SOCP','WAOB','AGEP','SEX','SCIENGP',</code></pre>
</div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df5.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>RACASN     0
PINCP      0
PERNP      0
WAOB       0
SEX        0
RACWHT     0
RACBLK     0
SCIENGP    0
SCHL       0
NAICSP     0
AGEP       0
WKHP       0
WAGP       0
RT         0
PWGTP      0
COW        0
POBP       0
SOCP       0
OCCP       0
FSEMP      0
dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df5.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(129664, 20)</code></pre>
</div>
</div>
</section>
<section id="performing-the-exploratory-data-analysis-eda" class="level2">
<h2 class="anchored" data-anchor-id="performing-the-exploratory-data-analysis-eda">2. Performing the Exploratory Data Analysis (EDA)</h2>
<ul>
<li>Print a count of the number of rows (observations) and columns (variables)</li>
<li>Print the data types of all variables</li>
<li>Print a summary statistics of the data</li>
</ul>
<div class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df5.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="125">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">POBP</th>
<th data-quarto-table-cell-role="th">FSEMP</th>
<th data-quarto-table-cell-role="th">RACBLK</th>
<th data-quarto-table-cell-role="th">OCCP</th>
<th data-quarto-table-cell-role="th">PINCP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">RACASN</th>
<th data-quarto-table-cell-role="th">WAGP</th>
<th data-quarto-table-cell-role="th">SEX</th>
<th data-quarto-table-cell-role="th">SCIENGP</th>
<th data-quarto-table-cell-role="th">COW</th>
<th data-quarto-table-cell-role="th">PERNP</th>
<th data-quarto-table-cell-role="th">WKHP</th>
<th data-quarto-table-cell-role="th">SCHL</th>
<th data-quarto-table-cell-role="th">RACWHT</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">WAOB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>1.296640e+05</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
<td>129664.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>88.852480</td>
<td>0.158895</td>
<td>0.099688</td>
<td>4103.373118</td>
<td>6.075186e+04</td>
<td>42.917101</td>
<td>0.069402</td>
<td>52085.459650</td>
<td>1.465627</td>
<td>0.584511</td>
<td>2.102635</td>
<td>55968.915836</td>
<td>39.121815</td>
<td>18.277055</td>
<td>0.744586</td>
<td>117.242357</td>
<td>1.542788</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>102.200954</td>
<td>0.365580</td>
<td>0.299585</td>
<td>2713.268667</td>
<td>7.708049e+04</td>
<td>15.277441</td>
<td>0.254138</td>
<td>67908.465601</td>
<td>0.498819</td>
<td>0.830562</td>
<td>1.852596</td>
<td>71724.136602</td>
<td>13.094686</td>
<td>3.875669</td>
<td>0.436095</td>
<td>108.011057</td>
<td>1.150909</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>10.000000</td>
<td>-8.400000e+03</td>
<td>16.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>1.000000</td>
<td>-8400.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>1.000000</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>47.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>2025.000000</td>
<td>2.000000e+04</td>
<td>30.000000</td>
<td>0.000000</td>
<td>13000.000000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>1.000000</td>
<td>17000.000000</td>
<td>36.000000</td>
<td>16.000000</td>
<td>0.000000</td>
<td>51.000000</td>
<td>1.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>48.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>4110.000000</td>
<td>4.000000e+04</td>
<td>42.000000</td>
<td>0.000000</td>
<td>35000.000000</td>
<td>1.000000</td>
<td>0.000000</td>
<td>1.000000</td>
<td>37500.000000</td>
<td>40.000000</td>
<td>19.000000</td>
<td>1.000000</td>
<td>84.000000</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>48.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>5740.000000</td>
<td>7.200000e+04</td>
<td>55.000000</td>
<td>0.000000</td>
<td>65000.000000</td>
<td>2.000000</td>
<td>1.000000</td>
<td>3.000000</td>
<td>69000.000000</td>
<td>43.000000</td>
<td>21.000000</td>
<td>1.000000</td>
<td>145.000000</td>
<td>1.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>554.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>9830.000000</td>
<td>1.157000e+06</td>
<td>92.000000</td>
<td>1.000000</td>
<td>489000.000000</td>
<td>2.000000</td>
<td>2.000000</td>
<td>8.000000</td>
<td>844000.000000</td>
<td>99.000000</td>
<td>24.000000</td>
<td>1.000000</td>
<td>2471.000000</td>
<td>8.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df5.describe(include<span class="op">=</span><span class="st">'object'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="126">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">NAICSP</th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">SOCP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>129664</td>
<td>129664</td>
<td>129664</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">unique</td>
<td>269</td>
<td>1</td>
<td>529</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">top</td>
<td>23</td>
<td>P</td>
<td>1191XX</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">freq</td>
<td>10174</td>
<td>129664</td>
<td>3697</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'COW'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="127">
<pre><code>1.0    86128
3.0    10502
6.0     9707
2.0     8407
4.0     5383
7.0     4742
5.0     4380
8.0      415
Name: COW, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'WKHP'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<pre><code>40.0    61789
50.0    10865
45.0     6707
30.0     5796
60.0     5507
        ...  
71.0        4
89.0        3
73.0        3
93.0        1
81.0        1
Name: WKHP, Length: 97, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'SCHL'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="129">
<pre><code>21.0    29627
16.0    25361
19.0    18732
22.0    12248
20.0    10012
18.0     9155
17.0     4761
23.0     2908
14.0     2819
1.0      2407
15.0     2378
24.0     2029
13.0     1941
12.0     1781
9.0      1328
11.0      834
10.0      342
8.0       318
6.0       262
7.0       180
5.0        98
4.0        71
2.0        38
3.0        34
Name: SCHL, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'WAOB'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="130">
<pre><code>1    102765
3     15399
4      7149
5      2017
6      1335
2       541
7       355
8       103
Name: WAOB, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="131">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'NAICSP'</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="131">
<pre><code>23       0.078464
6111     0.070112
722Z     0.060649
622M     0.035793
611M1    0.027216
           ...   
3133     0.000039
31M      0.000031
2122     0.000031
3122     0.000015
3131     0.000008
Name: NAICSP, Length: 269, dtype: float64</code></pre>
</div>
</div>
</section>
</section>
<section id="histograms" class="level1">
<h1>Histograms</h1>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df5.hist(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">25</span>), color<span class="op">=</span><span class="st">'brown'</span>,layout<span class="op">=</span>(<span class="dv">9</span>,<span class="dv">2</span>)) </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>plt.show</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>&lt;function matplotlib.pyplot.show(close=None, block=None)&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-27-output-2.png" class="img-fluid"></p>
</div>
</div>
<section id="density-plot" class="level2">
<h2 class="anchored" data-anchor-id="density-plot">Density plot</h2>
<div class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#df5.__delitem__('ST')</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>df5.plot(kind<span class="op">=</span><span class="st">'density'</span>, subplots<span class="op">=</span><span class="va">True</span>, layout<span class="op">=</span>(<span class="dv">9</span>,<span class="dv">2</span>), sharex<span class="op">=</span><span class="va">False</span>, legend<span class="op">=</span><span class="va">True</span>, fontsize<span class="op">=</span><span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">8</span>)) </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-28-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="boxplot" class="level1">
<h1>Boxplot</h1>
<div class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>df5.plot(kind<span class="op">=</span><span class="st">'box'</span>, subplots<span class="op">=</span><span class="va">True</span>, layout<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">1</span>), sharex<span class="op">=</span><span class="va">False</span>, sharey<span class="op">=</span><span class="va">False</span>, color <span class="op">=</span> <span class="st">'blue'</span>, figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">100</span>)) </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-29-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Fields in df5 df5 = df4[{‘NAICSP’,‘PERNP’,‘PINCP’,‘SOCP’,‘WAOB’,‘AGEP’,‘SEX’,‘SCIENGP’, ‘POBP’,‘COW’,‘RT’,‘SCHL’,‘WAGP’,‘WKHP’,‘OCCP’,‘POBP’,‘FSEMP’,‘RACASN’,‘RACBLK’,‘RACWHT’,‘PWGTP’}]</p>
<div class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'AGEP'</span>,x<span class="op">=</span><span class="st">'SEX'</span>,data<span class="op">=</span>df5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="134">
<pre><code>&lt;AxesSubplot:xlabel='SEX', ylabel='AGEP'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-30-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'WAGP'</span>,x<span class="op">=</span><span class="st">'SEX'</span>,data<span class="op">=</span>df5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="137">
<pre><code>&lt;AxesSubplot:xlabel='SEX', ylabel='WAGP'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-31-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>[<span class="dv">15</span>,<span class="dv">7</span>])</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'WAGP'</span>,x<span class="op">=</span><span class="st">'RACWHT'</span>,data<span class="op">=</span>df5, showmeans<span class="op">=</span><span class="va">True</span>, ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="140">
<pre><code>&lt;AxesSubplot:xlabel='RACWHT', ylabel='WAGP'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-32-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>[<span class="dv">15</span>,<span class="dv">7</span>])</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'WAGP'</span>,x<span class="op">=</span><span class="st">'COW'</span>,data<span class="op">=</span>df5, ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="141">
<pre><code>&lt;AxesSubplot:xlabel='COW', ylabel='WAGP'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-33-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>1 Employee of a private for-profit company or business, or of an individual, for wages, salary, or commissions 2 Employee of a private not-for-profit, tax-exempt, or charitable organization 3 Local government employee (city, county, etc.) 4 State government employee 5 Federal government employee 6 Self-employed in own not incorporated business, professional practice, or farm 7 Self-employed in own incorporated business, professional practice or farm 8 Working without pay in family business or farm 9 Unemployed and last worked 5 years ago or earlier or never worked</p>
<div class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>[<span class="dv">15</span>,<span class="dv">7</span>])</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'WAGP'</span>,x<span class="op">=</span><span class="st">'WAOB'</span>,data<span class="op">=</span>df5,ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="142">
<pre><code>&lt;AxesSubplot:xlabel='WAOB', ylabel='WAGP'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-34-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>1 US state (POBP = 001-059) 2 PR and US Island Areas (POBP = 061-099) 3 Latin America (POBP = 303,310-399) 4 Asia (POBP = 158-159,161,200-299) 5 Europe (POBP = 100-157,160,162-199) 6 Africa (POBP = 400-499) 7 Northern America (POBP = 300-302,304-309) 8 Oceania and at Sea (POBP = 060,500-554)</p>
<div class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>[<span class="dv">15</span>,<span class="dv">7</span>])</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'WAGP'</span>,x<span class="op">=</span><span class="st">'SCHL'</span>,data<span class="op">=</span>df5,ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="143">
<pre><code>&lt;AxesSubplot:xlabel='SCHL', ylabel='WAGP'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-35-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>1 No schooling completed 2 Nursery school, preschool 3 Kindergarten 4 Grade 1 5 Grade 2 6 Grade 3 7 Grade 4 8 Grade 5 9 Grade 6 10 Grade 7 11 Grade 8 12 Grade 9 13 Grade 10 14 Grade 11 15 12th grade - no diploma 16 Regular high school diploma 17 GED or alternative credential 18 Some college, but less than 1 year 19 1 or more years of college credit, no degree 20 Associate’s degree 21 Bachelor’s degree 22 Master’s degree 23 Professional degree beyond a bachelor’s degree 24 Doctorate degree</p>
<div class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>[<span class="dv">15</span>,<span class="dv">7</span>])</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'WAGP'</span>,x<span class="op">=</span><span class="st">'SCIENGP'</span>,data<span class="op">=</span>df5,ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="145">
<pre><code>&lt;AxesSubplot:xlabel='SCIENGP', ylabel='WAGP'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-36-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>1 Yes 2 No 0 N/A (less than bachelor’s degree)</p>
<div class="cell" data-execution_count="150">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>[<span class="dv">15</span>,<span class="dv">7</span>])</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'PWGTP'</span>,x<span class="op">=</span><span class="st">'SCHL'</span>,data<span class="op">=</span>df5,ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="150">
<pre><code>&lt;AxesSubplot:xlabel='SCHL', ylabel='PWGTP'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-37-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">#df5[df5['WAGP'] == 0]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="100">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">POBP</th>
<th data-quarto-table-cell-role="th">FSEMP</th>
<th data-quarto-table-cell-role="th">RACBLK</th>
<th data-quarto-table-cell-role="th">NAICSP</th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">SOCP</th>
<th data-quarto-table-cell-role="th">OCCP</th>
<th data-quarto-table-cell-role="th">PINCP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">RACASN</th>
<th data-quarto-table-cell-role="th">WAGP</th>
<th data-quarto-table-cell-role="th">SEX</th>
<th data-quarto-table-cell-role="th">SCIENGP</th>
<th data-quarto-table-cell-role="th">COW</th>
<th data-quarto-table-cell-role="th">PERNP</th>
<th data-quarto-table-cell-role="th">WKHP</th>
<th data-quarto-table-cell-role="th">SCHL</th>
<th data-quarto-table-cell-role="th">RACWHT</th>
<th data-quarto-table-cell-role="th">WAOB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6259</td>
<td>48</td>
<td>1</td>
<td>0</td>
<td>5411</td>
<td>P</td>
<td>2310XX</td>
<td>2100.0</td>
<td>36000.0</td>
<td>92</td>
<td>0</td>
<td>0.0</td>
<td>1</td>
<td>1.0</td>
<td>6.0</td>
<td>36000.0</td>
<td>40.0</td>
<td>22.0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9287</td>
<td>48</td>
<td>1</td>
<td>0</td>
<td>5411</td>
<td>P</td>
<td>2310XX</td>
<td>2100.0</td>
<td>36000.0</td>
<td>92</td>
<td>0</td>
<td>0.0</td>
<td>1</td>
<td>1.0</td>
<td>6.0</td>
<td>36000.0</td>
<td>40.0</td>
<td>22.0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10600</td>
<td>48</td>
<td>1</td>
<td>0</td>
<td>5411</td>
<td>P</td>
<td>2310XX</td>
<td>2100.0</td>
<td>36000.0</td>
<td>92</td>
<td>0</td>
<td>0.0</td>
<td>1</td>
<td>1.0</td>
<td>6.0</td>
<td>36000.0</td>
<td>40.0</td>
<td>22.0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13292</td>
<td>36</td>
<td>0</td>
<td>0</td>
<td>5241</td>
<td>P</td>
<td>413021</td>
<td>4810.0</td>
<td>90000.0</td>
<td>65</td>
<td>0</td>
<td>0.0</td>
<td>2</td>
<td>2.0</td>
<td>6.0</td>
<td>70000.0</td>
<td>30.0</td>
<td>22.0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13387</td>
<td>17</td>
<td>0</td>
<td>0</td>
<td>23</td>
<td>P</td>
<td>472061</td>
<td>6260.0</td>
<td>42050.0</td>
<td>73</td>
<td>0</td>
<td>0.0</td>
<td>1</td>
<td>1.0</td>
<td>6.0</td>
<td>4800.0</td>
<td>10.0</td>
<td>21.0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261035</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>6211</td>
<td>P</td>
<td>291210</td>
<td>3090.0</td>
<td>355000.0</td>
<td>40</td>
<td>1</td>
<td>0.0</td>
<td>1</td>
<td>1.0</td>
<td>6.0</td>
<td>355000.0</td>
<td>40.0</td>
<td>23.0</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261036</td>
<td>207</td>
<td>0</td>
<td>0</td>
<td>6211</td>
<td>P</td>
<td>291210</td>
<td>3090.0</td>
<td>355000.0</td>
<td>40</td>
<td>1</td>
<td>0.0</td>
<td>2</td>
<td>1.0</td>
<td>6.0</td>
<td>355000.0</td>
<td>35.0</td>
<td>23.0</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261117</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>814</td>
<td>P</td>
<td>311122</td>
<td>3602.0</td>
<td>12500.0</td>
<td>61</td>
<td>0</td>
<td>0.0</td>
<td>1</td>
<td>2.0</td>
<td>6.0</td>
<td>12500.0</td>
<td>25.0</td>
<td>21.0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261152</td>
<td>33</td>
<td>0</td>
<td>0</td>
<td>611M3</td>
<td>P</td>
<td>2530XX</td>
<td>2360.0</td>
<td>11000.0</td>
<td>66</td>
<td>0</td>
<td>0.0</td>
<td>2</td>
<td>2.0</td>
<td>6.0</td>
<td>1000.0</td>
<td>30.0</td>
<td>22.0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261282</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>531M</td>
<td>P</td>
<td>419020</td>
<td>4920.0</td>
<td>8500.0</td>
<td>31</td>
<td>0</td>
<td>0.0</td>
<td>2</td>
<td>1.0</td>
<td>6.0</td>
<td>8500.0</td>
<td>5.0</td>
<td>21.0</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>2541 rows × 19 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>scatter_matrix (df5, alpha<span class="op">=</span><span class="fl">0.8</span>, figsize<span class="op">=</span>(<span class="dv">19</span>,<span class="dv">9</span>)) </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-39-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>scatter_matrix(df5, figsize<span class="op">=</span> (<span class="dv">19</span>,<span class="dv">9</span>), alpha<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>c<span class="op">=</span><span class="st">'red'</span>, hist_kwds<span class="op">=</span>{<span class="st">'color'</span>:[<span class="st">'purple'</span>]}) </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'Scatter-matrix for each input variable'</span>, fontsize<span class="op">=</span><span class="dv">28</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="131">
<pre><code>Text(0.5, 0.98, 'Scatter-matrix for each input variable')</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-40-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="151">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>df6 <span class="op">=</span> df5[{<span class="st">'WAOB'</span>,<span class="st">'AGEP'</span>,<span class="st">'SEX'</span>,<span class="st">'SCHL'</span>,<span class="st">'WAGP'</span>,<span class="st">'COW'</span>,<span class="st">'SCIENGP'</span>,<span class="st">'RACBLK'</span>,<span class="st">'RACASN'</span>,<span class="st">'RACWHT'</span>,<span class="st">'PWGTP'</span>,<span class="st">'WKHP'</span> }]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_5968\253076953.py:1: FutureWarning: Passing a set as an indexer is deprecated and will raise in a future version. Use a list instead.
  df6 = df5[{'WAOB','AGEP','SEX','SCHL','WAGP','COW','SCIENGP','RACBLK','RACASN','RACWHT','PWGTP','WKHP' }]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="159">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>df6.corr()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="159">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">SCIENGP</th>
<th data-quarto-table-cell-role="th">COW</th>
<th data-quarto-table-cell-role="th">RACBLK</th>
<th data-quarto-table-cell-role="th">WKHP</th>
<th data-quarto-table-cell-role="th">RACASN</th>
<th data-quarto-table-cell-role="th">SCHL</th>
<th data-quarto-table-cell-role="th">RACWHT</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">WAOB</th>
<th data-quarto-table-cell-role="th">WAGP</th>
<th data-quarto-table-cell-role="th">SEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">SCIENGP</td>
<td>1.000000</td>
<td>0.080558</td>
<td>-0.042630</td>
<td>0.085184</td>
<td>0.101355</td>
<td>0.580924</td>
<td>0.066131</td>
<td>-0.040396</td>
<td>0.101553</td>
<td>0.018074</td>
<td>0.284940</td>
<td>0.082618</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">COW</td>
<td>0.080558</td>
<td>1.000000</td>
<td>-0.015433</td>
<td>-0.018988</td>
<td>-0.007037</td>
<td>0.061322</td>
<td>0.031225</td>
<td>-0.042766</td>
<td>0.158071</td>
<td>0.008126</td>
<td>-0.087735</td>
<td>-0.005521</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">RACBLK</td>
<td>-0.042630</td>
<td>-0.015433</td>
<td>1.000000</td>
<td>-0.022655</td>
<td>-0.077096</td>
<td>0.008016</td>
<td>-0.515551</td>
<td>0.119869</td>
<td>-0.024176</td>
<td>-0.006801</td>
<td>-0.061490</td>
<td>0.032942</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">WKHP</td>
<td>0.085184</td>
<td>-0.018988</td>
<td>-0.022655</td>
<td>1.000000</td>
<td>-0.006012</td>
<td>0.081683</td>
<td>0.022595</td>
<td>0.031666</td>
<td>0.071202</td>
<td>0.011924</td>
<td>0.313858</td>
<td>-0.178888</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">RACASN</td>
<td>0.101355</td>
<td>-0.007037</td>
<td>-0.077096</td>
<td>-0.006012</td>
<td>1.000000</td>
<td>0.089950</td>
<td>-0.403506</td>
<td>-0.019532</td>
<td>-0.028038</td>
<td>0.394236</td>
<td>0.066795</td>
<td>0.005282</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">SCHL</td>
<td>0.580924</td>
<td>0.061322</td>
<td>0.008016</td>
<td>0.081683</td>
<td>0.089950</td>
<td>1.000000</td>
<td>0.104606</td>
<td>-0.053052</td>
<td>0.048600</td>
<td>-0.101367</td>
<td>0.277641</td>
<td>0.074910</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">RACWHT</td>
<td>0.066131</td>
<td>0.031225</td>
<td>-0.515551</td>
<td>0.022595</td>
<td>-0.403506</td>
<td>0.104606</td>
<td>1.000000</td>
<td>-0.098626</td>
<td>0.057566</td>
<td>-0.292292</td>
<td>0.064158</td>
<td>-0.012245</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">PWGTP</td>
<td>-0.040396</td>
<td>-0.042766</td>
<td>0.119869</td>
<td>0.031666</td>
<td>-0.019532</td>
<td>-0.053052</td>
<td>-0.098626</td>
<td>1.000000</td>
<td>-0.132648</td>
<td>0.058218</td>
<td>-0.029721</td>
<td>-0.016745</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">AGEP</td>
<td>0.101553</td>
<td>0.158071</td>
<td>-0.024176</td>
<td>0.071202</td>
<td>-0.028038</td>
<td>0.048600</td>
<td>0.057566</td>
<td>-0.132648</td>
<td>1.000000</td>
<td>0.051957</td>
<td>0.161174</td>
<td>-0.007855</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">WAOB</td>
<td>0.018074</td>
<td>0.008126</td>
<td>-0.006801</td>
<td>0.011924</td>
<td>0.394236</td>
<td>-0.101367</td>
<td>-0.292292</td>
<td>0.058218</td>
<td>0.051957</td>
<td>1.000000</td>
<td>0.020318</td>
<td>-0.031325</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">WAGP</td>
<td>0.284940</td>
<td>-0.087735</td>
<td>-0.061490</td>
<td>0.313858</td>
<td>0.066795</td>
<td>0.277641</td>
<td>0.064158</td>
<td>-0.029721</td>
<td>0.161174</td>
<td>0.020318</td>
<td>1.000000</td>
<td>-0.147523</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">SEX</td>
<td>0.082618</td>
<td>-0.005521</td>
<td>0.032942</td>
<td>-0.178888</td>
<td>0.005282</td>
<td>0.074910</td>
<td>-0.012245</td>
<td>-0.016745</td>
<td>-0.007855</td>
<td>-0.031325</td>
<td>-0.147523</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="155">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>[<span class="dv">15</span>,<span class="dv">7</span>])</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>sns.heatmap(df6.corr(),annot<span class="op">=</span><span class="va">True</span>,lw<span class="op">=</span><span class="dv">1</span>,ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="155">
<pre><code>&lt;AxesSubplot:&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-43-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="160">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>df7 <span class="op">=</span> df5[{<span class="st">'AGEP'</span>,<span class="st">'WAGP'</span>,<span class="st">'PWGTP'</span>,<span class="st">'WKHP'</span> }]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_5968\1234415807.py:1: FutureWarning: Passing a set as an indexer is deprecated and will raise in a future version. Use a list instead.
  df7 = df5[{'AGEP','WAGP','PWGTP','WKHP' }]</code></pre>
</div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="156">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fig, ax = plt.subplots(figsize=[7,4])</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig, bx = plt.subplots(figsize=[7,4])</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>sns.pairplot(df6,x_vars<span class="op">=</span>[<span class="st">'AGEP'</span>,<span class="st">'WKHP'</span>],y_vars<span class="op">=</span>[<span class="st">'WAGP'</span>],hue<span class="op">=</span><span class="st">'SEX'</span>,height<span class="op">=</span><span class="fl">4.1</span>,aspect<span class="op">=</span><span class="fl">2.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-45-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>sns.pairplot(df6,x_vars<span class="op">=</span>[<span class="st">'PWGTP'</span>,<span class="st">'WKHP'</span>],y_vars<span class="op">=</span>[<span class="st">'WAGP'</span>],hue<span class="op">=</span><span class="st">'SCHL'</span>,height<span class="op">=</span><span class="fl">4.1</span>,aspect<span class="op">=</span><span class="fl">2.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-46-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="162">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>df7.corr()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="162">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">WAGP</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">WKHP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">WAGP</td>
<td>1.000000</td>
<td>-0.029721</td>
<td>0.313858</td>
<td>0.161174</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">PWGTP</td>
<td>-0.029721</td>
<td>1.000000</td>
<td>0.031666</td>
<td>-0.132648</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">WKHP</td>
<td>0.313858</td>
<td>0.031666</td>
<td>1.000000</td>
<td>0.071202</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">AGEP</td>
<td>0.161174</td>
<td>-0.132648</td>
<td>0.071202</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="161">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>sns.heatmap(df7.corr(),annot<span class="op">=</span><span class="va">True</span>,lw<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="161">
<pre><code>&lt;AxesSubplot:&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-48-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="171">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>sns.heatmap(df6.corr(),annot<span class="op">=</span><span class="va">True</span>,lw<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="171">
<pre><code>&lt;AxesSubplot:&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-49-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="163">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>scatter_matrix(df7, figsize<span class="op">=</span> (<span class="dv">19</span>,<span class="dv">9</span>), alpha<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>c<span class="op">=</span><span class="st">'red'</span>, hist_kwds<span class="op">=</span>{<span class="st">'color'</span>:[<span class="st">'purple'</span>]}) </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">'Scatter-matrix for each input variable'</span>, fontsize<span class="op">=</span><span class="dv">28</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="163">
<pre><code>Text(0.5, 0.98, 'Scatter-matrix for each input variable')</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-50-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">#df6=df6[(df6[['NAICSP','WAOB','AGEP','SEX','SCHL','WAGP']] !=0).all(axis=1)]</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co">#df6 = df5[{'WAOB','AGEP','SEX','SCHL','WAGP','COW','SCIENGP','RACBLK','RACASN','RACWHT','PWGTP','WKHP' }]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df6.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(129664, 12)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>sns.pairplot(df7, height<span class="op">=</span><span class="fl">1.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-53-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="create-dummy-variables" class="level1">
<h1><font color="lightblue"> Create Dummy Variables</font></h1>
<div class="cell" data-execution_count="169">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'WAOB'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="169">
<pre><code>array([1, 3, 4, 2, 6, 5, 7, 8], dtype=int64)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'US'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'AEU'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>df5.loc[(df5[<span class="st">'WAOB'</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">|</span> (df5[<span class="st">'WAOB'</span>] <span class="op">==</span> <span class="dv">2</span>) , <span class="st">'US'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>df5.loc[(df5[<span class="st">'WAOB'</span>] <span class="op">==</span> <span class="dv">4</span>) <span class="op">|</span> (df5[<span class="st">'WAOB'</span>] <span class="op">==</span> <span class="dv">5</span>) , <span class="st">'AEU'</span>] <span class="op">=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_5968\810489426.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df5['US'] = 0
C:\Users\palom\AppData\Local\Temp\ipykernel_5968\810489426.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df5['AEU'] = 0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="173">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>df5[(df5[<span class="st">'US'</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">|</span> (df5[<span class="st">'AEU'</span>] <span class="op">==</span> <span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="173">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">POBP</th>
<th data-quarto-table-cell-role="th">FSEMP</th>
<th data-quarto-table-cell-role="th">RACBLK</th>
<th data-quarto-table-cell-role="th">NAICSP</th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">SOCP</th>
<th data-quarto-table-cell-role="th">OCCP</th>
<th data-quarto-table-cell-role="th">PINCP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">RACASN</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">PERNP</th>
<th data-quarto-table-cell-role="th">WKHP</th>
<th data-quarto-table-cell-role="th">SCHL</th>
<th data-quarto-table-cell-role="th">RACWHT</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">WAOB</th>
<th data-quarto-table-cell-role="th">BACHE</th>
<th data-quarto-table-cell-role="th">GRADU</th>
<th data-quarto-table-cell-role="th">US</th>
<th data-quarto-table-cell-role="th">AEU</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>722Z</td>
<td>P</td>
<td>353031</td>
<td>4110.0</td>
<td>7000.0</td>
<td>21</td>
<td>0</td>
<td>...</td>
<td>7000.0</td>
<td>25.0</td>
<td>19.0</td>
<td>1</td>
<td>31</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>44511</td>
<td>P</td>
<td>537065</td>
<td>9645.0</td>
<td>13000.0</td>
<td>18</td>
<td>0</td>
<td>...</td>
<td>13000.0</td>
<td>30.0</td>
<td>18.0</td>
<td>1</td>
<td>16</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>36</td>
<td>0</td>
<td>0</td>
<td>611M2</td>
<td>P</td>
<td>272022</td>
<td>2722.0</td>
<td>500.0</td>
<td>20</td>
<td>1</td>
<td>...</td>
<td>500.0</td>
<td>6.0</td>
<td>19.0</td>
<td>0</td>
<td>31</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>611M1</td>
<td>P</td>
<td>393031</td>
<td>4420.0</td>
<td>200.0</td>
<td>18</td>
<td>0</td>
<td>...</td>
<td>200.0</td>
<td>4.0</td>
<td>18.0</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>48</td>
<td>0</td>
<td>1</td>
<td>611M1</td>
<td>P</td>
<td>439XXX</td>
<td>5940.0</td>
<td>1600.0</td>
<td>20</td>
<td>0</td>
<td>...</td>
<td>1600.0</td>
<td>20.0</td>
<td>19.0</td>
<td>0</td>
<td>65</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261438</td>
<td>26</td>
<td>0</td>
<td>0</td>
<td>531M</td>
<td>P</td>
<td>419020</td>
<td>4920.0</td>
<td>31000.0</td>
<td>52</td>
<td>0</td>
<td>...</td>
<td>31000.0</td>
<td>25.0</td>
<td>20.0</td>
<td>1</td>
<td>83</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261439</td>
<td>26</td>
<td>0</td>
<td>0</td>
<td>52M1</td>
<td>P</td>
<td>113031</td>
<td>120.0</td>
<td>152000.0</td>
<td>63</td>
<td>0</td>
<td>...</td>
<td>109000.0</td>
<td>40.0</td>
<td>21.0</td>
<td>1</td>
<td>94</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261440</td>
<td>26</td>
<td>0</td>
<td>0</td>
<td>713Z</td>
<td>P</td>
<td>272021</td>
<td>2721.0</td>
<td>8000.0</td>
<td>22</td>
<td>0</td>
<td>...</td>
<td>8000.0</td>
<td>37.0</td>
<td>19.0</td>
<td>1</td>
<td>133</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261441</td>
<td>24</td>
<td>0</td>
<td>0</td>
<td>5241</td>
<td>P</td>
<td>151252</td>
<td>1021.0</td>
<td>115000.0</td>
<td>61</td>
<td>0</td>
<td>...</td>
<td>115000.0</td>
<td>40.0</td>
<td>24.0</td>
<td>1</td>
<td>46</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261442</td>
<td>72</td>
<td>0</td>
<td>0</td>
<td>5415</td>
<td>P</td>
<td>413091</td>
<td>4840.0</td>
<td>150000.0</td>
<td>61</td>
<td>0</td>
<td>...</td>
<td>150000.0</td>
<td>40.0</td>
<td>24.0</td>
<td>1</td>
<td>78</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>112472 rows × 24 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'MALE'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>df5.loc[(df5[<span class="st">'SEX'</span>] <span class="op">==</span> <span class="dv">1</span>) , <span class="st">'MALE'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co">#df5.loc[df5['NAICSP'].str.startswith(('23','11','21','33','48','49','31','32','42','22','3M')) , 'WHBLCO'] = 1</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_5968\3128391656.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df5['MALE'] = 0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>df5.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="176">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">POBP</th>
<th data-quarto-table-cell-role="th">FSEMP</th>
<th data-quarto-table-cell-role="th">RACBLK</th>
<th data-quarto-table-cell-role="th">NAICSP</th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">SOCP</th>
<th data-quarto-table-cell-role="th">OCCP</th>
<th data-quarto-table-cell-role="th">PINCP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">RACASN</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">WKHP</th>
<th data-quarto-table-cell-role="th">SCHL</th>
<th data-quarto-table-cell-role="th">RACWHT</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">WAOB</th>
<th data-quarto-table-cell-role="th">BACHE</th>
<th data-quarto-table-cell-role="th">GRADU</th>
<th data-quarto-table-cell-role="th">US</th>
<th data-quarto-table-cell-role="th">AEU</th>
<th data-quarto-table-cell-role="th">MALE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>722Z</td>
<td>P</td>
<td>353031</td>
<td>4110.0</td>
<td>7000.0</td>
<td>21</td>
<td>0</td>
<td>...</td>
<td>25.0</td>
<td>19.0</td>
<td>1</td>
<td>31</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>44511</td>
<td>P</td>
<td>537065</td>
<td>9645.0</td>
<td>13000.0</td>
<td>18</td>
<td>0</td>
<td>...</td>
<td>30.0</td>
<td>18.0</td>
<td>1</td>
<td>16</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>36</td>
<td>0</td>
<td>0</td>
<td>611M2</td>
<td>P</td>
<td>272022</td>
<td>2722.0</td>
<td>500.0</td>
<td>20</td>
<td>1</td>
<td>...</td>
<td>6.0</td>
<td>19.0</td>
<td>0</td>
<td>31</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>611M1</td>
<td>P</td>
<td>393031</td>
<td>4420.0</td>
<td>200.0</td>
<td>18</td>
<td>0</td>
<td>...</td>
<td>4.0</td>
<td>18.0</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>48</td>
<td>0</td>
<td>1</td>
<td>611M1</td>
<td>P</td>
<td>439XXX</td>
<td>5940.0</td>
<td>1600.0</td>
<td>20</td>
<td>0</td>
<td>...</td>
<td>20.0</td>
<td>19.0</td>
<td>0</td>
<td>65</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>5 rows × 25 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'BACHE'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'GRADU'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>df5.loc[(df5[<span class="st">'SCHL'</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">|</span> (df5[<span class="st">'SCHL'</span>] <span class="op">==</span> <span class="dv">2</span>) , <span class="st">'BACHE'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>df5.loc[df5[<span class="st">'SCHL'</span>] <span class="op">&gt;</span> <span class="dv">21</span>  , <span class="st">'GRADU'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_5968\3381236083.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df5['BACHE'] = 0
C:\Users\palom\AppData\Local\Temp\ipykernel_5968\3381236083.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df5['GRADU'] = 0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="171">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>df5[(df5[<span class="st">'GRADU'</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">|</span> (df5[<span class="st">'BACHE'</span>] <span class="op">==</span> <span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="171">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">POBP</th>
<th data-quarto-table-cell-role="th">FSEMP</th>
<th data-quarto-table-cell-role="th">RACBLK</th>
<th data-quarto-table-cell-role="th">NAICSP</th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">SOCP</th>
<th data-quarto-table-cell-role="th">OCCP</th>
<th data-quarto-table-cell-role="th">PINCP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">RACASN</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">SCIENGP</th>
<th data-quarto-table-cell-role="th">COW</th>
<th data-quarto-table-cell-role="th">PERNP</th>
<th data-quarto-table-cell-role="th">WKHP</th>
<th data-quarto-table-cell-role="th">SCHL</th>
<th data-quarto-table-cell-role="th">RACWHT</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">WAOB</th>
<th data-quarto-table-cell-role="th">BACHE</th>
<th data-quarto-table-cell-role="th">GRADU</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">850</td>
<td>303</td>
<td>0</td>
<td>0</td>
<td>8131</td>
<td>P</td>
<td>212011</td>
<td>2040.0</td>
<td>31500.0</td>
<td>36</td>
<td>0</td>
<td>...</td>
<td>2.0</td>
<td>2.0</td>
<td>31500.0</td>
<td>40.0</td>
<td>22.0</td>
<td>1</td>
<td>11</td>
<td>3</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1025</td>
<td>13</td>
<td>0</td>
<td>0</td>
<td>6214</td>
<td>P</td>
<td>291123</td>
<td>3160.0</td>
<td>90000.0</td>
<td>26</td>
<td>0</td>
<td>...</td>
<td>2.0</td>
<td>1.0</td>
<td>90000.0</td>
<td>50.0</td>
<td>23.0</td>
<td>1</td>
<td>61</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1611</td>
<td>48</td>
<td>0</td>
<td>1</td>
<td>333MS</td>
<td>P</td>
<td>537051</td>
<td>9600.0</td>
<td>11000.0</td>
<td>60</td>
<td>0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>11000.0</td>
<td>36.0</td>
<td>1.0</td>
<td>0</td>
<td>15</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2697</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>6241</td>
<td>P</td>
<td>212011</td>
<td>2040.0</td>
<td>12500.0</td>
<td>59</td>
<td>0</td>
<td>...</td>
<td>2.0</td>
<td>1.0</td>
<td>12500.0</td>
<td>40.0</td>
<td>22.0</td>
<td>1</td>
<td>9</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2703</td>
<td>303</td>
<td>0</td>
<td>0</td>
<td>23</td>
<td>P</td>
<td>472XXX</td>
<td>6220.0</td>
<td>20000.0</td>
<td>53</td>
<td>0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>20000.0</td>
<td>40.0</td>
<td>1.0</td>
<td>1</td>
<td>52</td>
<td>3</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261395</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>6111</td>
<td>P</td>
<td>119030</td>
<td>230.0</td>
<td>72000.0</td>
<td>61</td>
<td>0</td>
<td>...</td>
<td>2.0</td>
<td>3.0</td>
<td>72000.0</td>
<td>80.0</td>
<td>22.0</td>
<td>1</td>
<td>55</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261426</td>
<td>36</td>
<td>0</td>
<td>0</td>
<td>6111</td>
<td>P</td>
<td>252020</td>
<td>2310.0</td>
<td>58000.0</td>
<td>60</td>
<td>0</td>
<td>...</td>
<td>2.0</td>
<td>3.0</td>
<td>58000.0</td>
<td>68.0</td>
<td>22.0</td>
<td>1</td>
<td>74</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261427</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>6111</td>
<td>P</td>
<td>119030</td>
<td>230.0</td>
<td>103000.0</td>
<td>41</td>
<td>0</td>
<td>...</td>
<td>2.0</td>
<td>3.0</td>
<td>103000.0</td>
<td>60.0</td>
<td>22.0</td>
<td>1</td>
<td>80</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261441</td>
<td>24</td>
<td>0</td>
<td>0</td>
<td>5241</td>
<td>P</td>
<td>151252</td>
<td>1021.0</td>
<td>115000.0</td>
<td>61</td>
<td>0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>115000.0</td>
<td>40.0</td>
<td>24.0</td>
<td>1</td>
<td>46</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261442</td>
<td>72</td>
<td>0</td>
<td>0</td>
<td>5415</td>
<td>P</td>
<td>413091</td>
<td>4840.0</td>
<td>150000.0</td>
<td>61</td>
<td>0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>150000.0</td>
<td>40.0</td>
<td>24.0</td>
<td>1</td>
<td>78</td>
<td>2</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>19630 rows × 22 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="177">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'SALARYW'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>df5[<span class="st">'OWNERW'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>df5.loc[(df5[<span class="st">'COW'</span>] <span class="op">&lt;=</span> <span class="dv">5</span>) , <span class="st">'SALARYW'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>df5.loc[df5[<span class="st">'COW'</span>] <span class="op">==</span> <span class="dv">7</span>  , <span class="st">'OWNERW'</span>] <span class="op">=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_5968\547111326.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df5['SALARYW'] = 0
C:\Users\palom\AppData\Local\Temp\ipykernel_5968\547111326.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df5['OWNERW'] = 0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="178">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>df5[(df5[<span class="st">'SALARYW'</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">|</span> (df5[<span class="st">'OWNERW'</span>] <span class="op">==</span> <span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="178">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">POBP</th>
<th data-quarto-table-cell-role="th">FSEMP</th>
<th data-quarto-table-cell-role="th">RACBLK</th>
<th data-quarto-table-cell-role="th">NAICSP</th>
<th data-quarto-table-cell-role="th">RT</th>
<th data-quarto-table-cell-role="th">SOCP</th>
<th data-quarto-table-cell-role="th">OCCP</th>
<th data-quarto-table-cell-role="th">PINCP</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">RACASN</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RACWHT</th>
<th data-quarto-table-cell-role="th">PWGTP</th>
<th data-quarto-table-cell-role="th">WAOB</th>
<th data-quarto-table-cell-role="th">BACHE</th>
<th data-quarto-table-cell-role="th">GRADU</th>
<th data-quarto-table-cell-role="th">US</th>
<th data-quarto-table-cell-role="th">AEU</th>
<th data-quarto-table-cell-role="th">MALE</th>
<th data-quarto-table-cell-role="th">SALARYW</th>
<th data-quarto-table-cell-role="th">OWNERW</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>722Z</td>
<td>P</td>
<td>353031</td>
<td>4110.0</td>
<td>7000.0</td>
<td>21</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>31</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>44511</td>
<td>P</td>
<td>537065</td>
<td>9645.0</td>
<td>13000.0</td>
<td>18</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>16</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>36</td>
<td>0</td>
<td>0</td>
<td>611M2</td>
<td>P</td>
<td>272022</td>
<td>2722.0</td>
<td>500.0</td>
<td>20</td>
<td>1</td>
<td>...</td>
<td>0</td>
<td>31</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>611M1</td>
<td>P</td>
<td>393031</td>
<td>4420.0</td>
<td>200.0</td>
<td>18</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>48</td>
<td>0</td>
<td>1</td>
<td>611M1</td>
<td>P</td>
<td>439XXX</td>
<td>5940.0</td>
<td>1600.0</td>
<td>20</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>65</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261440</td>
<td>26</td>
<td>0</td>
<td>0</td>
<td>713Z</td>
<td>P</td>
<td>272021</td>
<td>2721.0</td>
<td>8000.0</td>
<td>22</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>133</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261441</td>
<td>24</td>
<td>0</td>
<td>0</td>
<td>5241</td>
<td>P</td>
<td>151252</td>
<td>1021.0</td>
<td>115000.0</td>
<td>61</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>46</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261442</td>
<td>72</td>
<td>0</td>
<td>0</td>
<td>5415</td>
<td>P</td>
<td>413091</td>
<td>4840.0</td>
<td>150000.0</td>
<td>61</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>78</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261443</td>
<td>373</td>
<td>1</td>
<td>0</td>
<td>492</td>
<td>P</td>
<td>435021</td>
<td>5510.0</td>
<td>26700.0</td>
<td>44</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>248</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">261444</td>
<td>373</td>
<td>1</td>
<td>0</td>
<td>6111</td>
<td>P</td>
<td>151230</td>
<td>1050.0</td>
<td>60000.0</td>
<td>53</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>288</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>119542 rows × 27 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="184">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>dflr <span class="op">=</span> df5[{<span class="st">'AGEP'</span>,<span class="st">'WKHP'</span>,<span class="st">'US'</span>,<span class="st">'AEU'</span>,<span class="st">'MALE'</span>,<span class="st">'GRADU'</span>,<span class="st">'BACHE'</span>,<span class="st">'SALARYW'</span>,<span class="st">'OWNERW'</span>,<span class="st">'WAGP'</span>}]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\palom\AppData\Local\Temp\ipykernel_5968\3648399855.py:1: FutureWarning: Passing a set as an indexer is deprecated and will raise in a future version. Use a list instead.
  dflr = df5[{'AGEP','WKHP','US','AEU','MALE','GRADU','BACHE','SALARYW','OWNERW','WAGP'}]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="185">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>dflr.head(<span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="185">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">WKHP</th>
<th data-quarto-table-cell-role="th">BACHE</th>
<th data-quarto-table-cell-role="th">AEU</th>
<th data-quarto-table-cell-role="th">GRADU</th>
<th data-quarto-table-cell-role="th">AGEP</th>
<th data-quarto-table-cell-role="th">US</th>
<th data-quarto-table-cell-role="th">WAGP</th>
<th data-quarto-table-cell-role="th">OWNERW</th>
<th data-quarto-table-cell-role="th">MALE</th>
<th data-quarto-table-cell-role="th">SALARYW</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>25.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>21</td>
<td>1</td>
<td>7000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>30.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>18</td>
<td>1</td>
<td>13000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>6.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>20</td>
<td>1</td>
<td>500.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>4.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>18</td>
<td>1</td>
<td>200.0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>20.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>20</td>
<td>1</td>
<td>1600.0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>40.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>29</td>
<td>1</td>
<td>3800.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>40.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>64</td>
<td>1</td>
<td>18000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>40.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>22</td>
<td>1</td>
<td>22000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>50.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>37</td>
<td>1</td>
<td>90000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>40.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>20</td>
<td>1</td>
<td>2000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>40.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>46</td>
<td>1</td>
<td>4000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>40.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>55</td>
<td>1</td>
<td>0.0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>24.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>19</td>
<td>1</td>
<td>2000.0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>5.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>18</td>
<td>1</td>
<td>1500.0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>40.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>1</td>
<td>150.0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>40.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>46</td>
<td>1</td>
<td>4000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>22.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>18</td>
<td>1</td>
<td>5000.0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>20.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>20</td>
<td>1</td>
<td>3000.0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>25.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>18</td>
<td>1</td>
<td>1600.0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">52</td>
<td>45.0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>32</td>
<td>1</td>
<td>0.0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="181">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(dflr.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(129664, 10)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="183">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(dflr.info())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 129664 entries, 0 to 261444
Data columns (total 10 columns):
 #   Column   Non-Null Count   Dtype  
---  ------   --------------   -----  
 0   WKHP     129664 non-null  float64
 1   BACHE    129664 non-null  int64  
 2   AEU      129664 non-null  int64  
 3   GRADU    129664 non-null  int64  
 4   AGEP     129664 non-null  int64  
 5   US       129664 non-null  int64  
 6   WAGP     129664 non-null  float64
 7   OWNERW   129664 non-null  int64  
 8   MALE     129664 non-null  int64  
 9   SALARYW  129664 non-null  int64  
dtypes: float64(2), int64(8)
memory usage: 14.9 MB
None</code></pre>
</div>
</div>
<section id="linear-regresion" class="level2">
<h2 class="anchored" data-anchor-id="linear-regresion">LINEAR REGRESION</h2>
<section id="step-1-separate-the-dataset-into-input-output-numpy-arrays" class="level3">
<h3 class="anchored" data-anchor-id="step-1-separate-the-dataset-into-input-output-numpy-arrays">STEP 1: Separate the Dataset into Input &amp; Output NumPy Arrays</h3>
<ul>
<li>Store the dataframe d2 values into a NumPy array</li>
<li>Separate the array into input and output components by slicing</li>
</ul>
<div class="cell" data-execution_count="186">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Separate the dependent from the independent variables. </span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>array <span class="op">=</span> dflr.values</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> array [:,[<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>]]</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>Y <span class="op">=</span> array [:,<span class="dv">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>X.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="189">
<pre><code>(129664, 9)</code></pre>
</div>
</div>
</section>
<section id="step-2-split-into-inputoutput-array-into-trainingtesting-datasets" class="level3">
<h3 class="anchored" data-anchor-id="step-2-split-into-inputoutput-array-into-trainingtesting-datasets">STEP 2: Split into Input/Output Array into Training/Testing Datasets</h3>
<ul>
<li>Split the dataset into training at 67% and test at 33% with the seed = 7</li>
</ul>
<div class="cell" data-execution_count="190">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Selection of records to include in which sub-dataset must be done randomly</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="co"># use the for seed randomization</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>test_size <span class="op">=</span> <span class="fl">0.33</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>seed <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the dataset (both input &amp; output) into training/testing datasets</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>X_train, X_test, Y_train, Y_test<span class="op">=</span> train_test_split(X,Y, test_size<span class="op">=</span><span class="fl">0.33</span>,</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>random_state<span class="op">=</span>seed)</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>X_train.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="190">
<pre><code>(86874, 9)</code></pre>
</div>
</div>
</section>
</section>
<section id="train-model" class="level2">
<h2 class="anchored" data-anchor-id="train-model"><font color="lightblue"> TRAIN MODEL </font></h2>
<section id="step-3-build-and-train-the-model" class="level3">
<h3 class="anchored" data-anchor-id="step-3-build-and-train-the-model">STEP 3: Build and Train the Model</h3>
<ul>
<li>Assign LinearRegression to the model</li>
<li>Train the model</li>
<li>Print the intercept and coefficients</li>
<li>Print the list of the coefficients with their correspondent variable name</li>
</ul>
<div class="cell" data-execution_count="191">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Assign LinearRegression to the model</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> LinearRegression()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="192">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Train the model</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> model.fit(X_train, Y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="193">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Print the intercept and coefficients</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="st">"Intercept:"</span>, reg.intercept_)</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="st">"Coefficients:"</span>, reg.coef_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Intercept: -93421.23353624818
Coefficients: [  1302.61387251 -14080.96350139  19626.06457212  48782.53278423
    597.31323087  11801.78875007  63193.35845697  15483.08043019
  46672.8424576 ]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="203">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Print the list of the coefficients with their correspondent variable name</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>names_2 <span class="op">=</span> [<span class="st">'WKHP'</span>,<span class="st">'BACHE'</span>,<span class="st">'AEU'</span>,<span class="st">'GRADU'</span>,<span class="st">'AGEP'</span>,<span class="st">'US'</span>,<span class="st">'OWNERW'</span>,<span class="st">'MALE'</span>,<span class="st">'SALARYW'</span>]</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>coeffs_zip <span class="op">=</span> <span class="bu">zip</span>(names_2, reg.coef_)</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert iterator into a set</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>coeffs <span class="op">=</span> <span class="bu">set</span>(coeffs_zip)</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Print (coeffs)</span></span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> coef <span class="kw">in</span> coeffs:</span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span> (coef, <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>('BACHE', -14080.963501386306) 

('US', 11801.788750073873) 

('SALARYW', 46672.842457602696) 

('GRADU', 48782.53278422593) 

('WKHP', 1302.6138725146875) 

('AGEP', 597.3132308680757) 

('OWNERW', 63193.35845697323) 

('AEU', 19626.064572124906) 

('MALE', 15483.08043018768) 
</code></pre>
</div>
</div>
</section>
</section>
<section id="score-model" class="level2">
<h2 class="anchored" data-anchor-id="score-model"><font color="lightblue"> SCORE MODEL </font></h2>
</section>
<section id="step-4-calculate-r-squared" class="level2">
<h2 class="anchored" data-anchor-id="step-4-calculate-r-squared">STEP 4: Calculate R-Squared</h2>
<ul>
<li>Calculate the R-Squared</li>
<li>Print the score</li>
</ul>
<p>** Note: The higher the R-squared, the better (0 – 100%). Depending on the model, the best models score above 83%. The R-squared value tells us how well the independent variables predict the dependent variable, which is very low. Think about how you could increase the R-squared. What variables would you use?</p>
<div class="cell" data-execution_count="204">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co">#What is this for???</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>LinearRegression(copy_X<span class="op">=</span><span class="va">True</span>, fit_intercept<span class="op">=</span><span class="va">True</span>, n_jobs<span class="op">=</span><span class="dv">1</span>, normalize<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="204">
<pre><code>LinearRegression(n_jobs=1, normalize=False)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="205">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculate the R-Squared</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>R_squared <span class="op">=</span> model.score(X_test, Y_test)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"R-squared: "</span>, R_squared)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R-squared:  0.23681191222626774</code></pre>
</div>
</div>
<section id="step-5-prediction" class="level3">
<h3 class="anchored" data-anchor-id="step-5-prediction">Step 5: Prediction</h3>
<ul>
<li><p>Execute model prediction</p></li>
<li><p>We have now trained the model. Let’s use the trained model to predict the “Salary of an individual” WAGP</p></li>
<li><p>We are using the following predictors:</p></li>
<li><p>WKHP: Works 50 hours a week</p></li>
<li><p>BACHE: has also 0</p></li>
<li><p>AEU: then will be = 0</p></li>
<li><p>GRADU: Let say has and MBA = 1</p></li>
<li><p>AGEP: He is a Male 30 years old</p></li>
<li><p>US: US citizent = 1</p></li>
<li><p>OWNER: Then will be =0</p></li>
<li><p>MALE: Will be = 1</p></li>
<li><p>SALARYW: Work for a company =1</p></li>
</ul>
<p>** Note: The model predicts that the median value of owner-occupied homes in 1000 dollars in the above suburb should be around $24,144.</p>
<div class="cell" data-execution_count="206">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>model.predict([[<span class="dv">50</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">30</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="206">
<pre><code>array([112369.10143762])</code></pre>
</div>
</div>
</section>
<section id="case-2-prediction" class="level3">
<h3 class="anchored" data-anchor-id="case-2-prediction">Case 2 prediction:</h3>
<ul>
<li>Male from the US, 30 years old with a graduate degree. Works 50 hr/wk but owner of a business</li>
</ul>
<div class="cell" data-execution_count="209">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>model.predict([[<span class="dv">50</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">30</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="209">
<pre><code>array([160079.3794644])</code></pre>
</div>
</div>
</section>
<section id="case-3-prediction" class="level3">
<h3 class="anchored" data-anchor-id="case-3-prediction">Case 3 prediction:</h3>
<ul>
<li>Male from Asia or Europe, 30 years old with a graduate degree. Works 50 hr/wk but owner of a business</li>
</ul>
<div class="cell" data-execution_count="207">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>model.predict([[<span class="dv">50</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">30</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="207">
<pre><code>array([163760.67114452])</code></pre>
</div>
</div>
</section>
<section id="case-4-prediction" class="level3">
<h3 class="anchored" data-anchor-id="case-4-prediction">Case 4 prediction:</h3>
<ul>
<li>Male from US, 40 years old with a graduate or bachelor degree. Works 50 hr/wk and is a salary employee.</li>
</ul>
<div class="cell" data-execution_count="211">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>model.predict([[<span class="dv">50</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">40</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="211">
<pre><code>array([69559.70096207])</code></pre>
</div>
</div>
</section>
<section id="case-5-prediction" class="level3">
<h3 class="anchored" data-anchor-id="case-5-prediction">Case 5 prediction:</h3>
<ul>
<li>Male from US, 40 years old with a graduate or bachelor degree. Works 50 hr/wk and is a salary employee.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>model.predict([[<span class="dv">40</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">40</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="evaluate-models" class="level2">
<h2 class="anchored" data-anchor-id="evaluate-models"><font color="lightblue"> EVALUATE MODELS </font></h2>
<section id="step-6-train-score-model-2-using-k-fold-cross-validation-data-split" class="level3">
<h3 class="anchored" data-anchor-id="step-6-train-score-model-2-using-k-fold-cross-validation-data-split">Step 6: Train &amp; Score Model 2 Using K-Fold Cross Validation Data Split</h3>
<ul>
<li>Specify the k-size to 10</li>
<li>Fix the random seed to 7</li>
<li>Split the entire data set</li>
<li>Obtain the Mean squared error</li>
<li>Train the model and run K-fold cross-validation</li>
<li>Print results</li>
</ul>
<div class="cell" data-execution_count="212">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate the algorithm</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the K-size</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>num_folds <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix the random seed</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="co"># must use the same seed value so that the same subsets can be obtained</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a><span class="co"># for each time the process is repeated</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>seed <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the whole data set into folds</span></span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a>kfold<span class="op">=</span> KFold(n_splits<span class="op">=</span>num_folds, random_state<span class="op">=</span>seed, shuffle<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a><span class="co"># For Linear regression, we can use MSE (mean squared error) value</span></span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a><span class="co"># to evaluate the model/algorithm</span></span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a>scoring <span class="op">=</span> <span class="st">'neg_mean_squared_error'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="213">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Train the model and run K-foLd cross-validation to validate/evaluate the model</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> cross_val_score(model, X, Y, cv<span class="op">=</span>kfold, scoring<span class="op">=</span>scoring)</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out the evaluation results</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Result: the average of all the results obtained from the k-fold crossvalidation</span></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Average of all results from the K-fold Cross-Validation"</span>,end<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">",using negative mean squared error:"</span>,results.mean())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Average of all results from the K-fold Cross-Validation,using negative mean squared error: -3525537755.348807</code></pre>
</div>
</div>
</section>
<section id="step-7-score-using-explained-variance" class="level3">
<h3 class="anchored" data-anchor-id="step-7-score-using-explained-variance">Step 7: Score Using Explained Variance</h3>
<p>Let’s use a different scoring parameter. Here we use the Explained Variance. The best possible score is 1.0; lower values are worse. - Specify the k-size to 10 - Set the seed to 7 - Split the entire data set - Obtain the explained variance score - Train the model and run K-fold cross-validation - Print results</p>
<div class="cell" data-execution_count="214">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate the algorithm</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the K-size</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>num_folds <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix the random seed must use the same seed value so that the same subsets</span></span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a><span class="co"># can be obtained</span></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a><span class="co"># for each time the process is repeated</span></span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>seed <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the whole data set into folds</span></span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>kfold<span class="op">=</span> KFold(n_splits<span class="op">=</span>num_folds, random_state<span class="op">=</span>seed, shuffle<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a><span class="co"># For Linear regression, we can use explained variance value to evaluate the model/algorithm</span></span>
<span id="cb134-11"><a href="#cb134-11" aria-hidden="true" tabindex="-1"></a>scoring <span class="op">=</span> <span class="st">'explained_variance'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="215">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Train the model and run K-foLd cross-validation to validate/evaluate the model</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> cross_val_score(model, X, Y, cv<span class="op">=</span>kfold, scoring<span class="op">=</span>scoring)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out the evaluation results</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Result: the average of all the results obtained from the k-fold crossvalidation</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Average of all results from the K-fold Cross Validation"</span>,end<span class="op">=</span><span class="st">""</span>)</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">" using exlpained variance:"</span>,results.mean())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Average of all results from the K-fold Cross Validation using exlpained variance: 0.23548372748977942</code></pre>
</div>
</div>
<div class="cell" data-execution_count="213">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>sns.pairplot(df5,x_vars<span class="op">=</span>[<span class="st">'AGEP'</span>,<span class="st">'WKHP'</span>],y_vars<span class="op">=</span>[<span class="st">'WAGP'</span>],hue<span class="op">=</span><span class="st">'BACHE'</span>,height<span class="op">=</span><span class="fl">4.1</span>,aspect<span class="op">=</span><span class="fl">2.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-85-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="214">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>[<span class="dv">15</span>,<span class="dv">7</span>])</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>sns.heatmap(df5.corr(),annot<span class="op">=</span><span class="va">True</span>,lw<span class="op">=</span><span class="dv">1</span>,ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="214">
<pre><code>&lt;AxesSubplot:&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="adta5240_linear_regression_files/figure-html/cell-86-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>df5.loc[df5[<span class="st">'WAGP'</span>] <span class="op">&gt;</span> <span class="dv">0</span>   , <span class="st">'WAGP'</span>] <span class="op">=</span> df5[<span class="st">'WAGP'</span>]<span class="op">/</span><span class="dv">100000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="deleteoutput" class="level1">
<h1>4. Delete/Output</h1>
<section id="output-to-csv" class="level3">
<h3 class="anchored" data-anchor-id="output-to-csv">4.1 Output to csv</h3>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>df5.to_csv(<span class="st">'outputdf5'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="output-to-jason" class="level3">
<h3 class="anchored" data-anchor-id="output-to-jason">4.2 Output to Jason</h3>
<div class="cell" data-execution_count="225">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co">##df.to_json()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="output-to-html" class="level3">
<h3 class="anchored" data-anchor-id="output-to-html">4.3 Output to HTML</h3>
<div class="cell" data-execution_count="226">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co">##df.to_html()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="delete-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="delete-dataframe">4.4 Delete Dataframe</h3>
<div class="cell" data-execution_count="227">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co">#del df</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="228">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co">#df.head()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>